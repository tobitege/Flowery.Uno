<UserControl
    x:Class="Flowery.Uno.Gallery.MainView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:daisy="using:Flowery.Controls"
    xmlns:gallery="using:Flowery.Uno.Gallery">

    <Grid x:Name="RootGrid"
          Background="{ThemeResource DaisyBase100Brush}"
          daisy:DaisyBaseContentControl.NeumorphicScopeEnabled="False">
        <SplitView x:Name="MainSplitView"
                   IsPaneOpen="True"
                   DisplayMode="Inline"
                   OpenPaneLength="250">
            <SplitView.Pane>
                <gallery:GallerySidebar
                    x:Name="ComponentSidebar"
                    SidebarWidth="250"
                    daisy:DaisyBaseContentControl.NeumorphicScopeEnabled="False"
                    ItemSelected="ComponentSidebar_ItemSelected" />
            </SplitView.Pane>
            <SplitView.Content>
                <Grid RowDefinitions="Auto,Auto,*">
                    <Border x:Name="HeaderBorder" Grid.Row="0">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Offset="0" Color="#0F172A" />
                                <GradientStop Offset="0.5" Color="#1E293B" />
                                <GradientStop Offset="1" Color="#0F172A" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <Grid>
                            <Ellipse x:Name="HeaderOrbRight"
                                     Width="150"
                                     Height="150"
                                     Opacity="0.1"
                                     HorizontalAlignment="Right"
                                     VerticalAlignment="Top"
                                     Margin="0,-40,-20,0">
                                <Ellipse.Fill>
                                    <RadialGradientBrush>
                                        <GradientStop Offset="0" Color="#0EA5E9" />
                                        <GradientStop Offset="1" Color="Transparent" />
                                    </RadialGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <Ellipse x:Name="HeaderOrbLeft"
                                     Width="100"
                                     Height="100"
                                     Opacity="0.05"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Bottom"
                                     Margin="-20,0,0,-20">
                                <Ellipse.Fill>
                                    <RadialGradientBrush>
                                        <GradientStop Offset="0" Color="#2DD4BF" />
                                        <GradientStop Offset="1" Color="Transparent" />
                                    </RadialGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>

                            <StackPanel x:Name="HeaderPanel">
                                <Grid x:Name="HeaderContentGrid"
                                      Margin="12,16,16,8"
                                      ColumnDefinitions="Auto,Auto,*">
                                    <daisy:DaisyButton x:Name="HamburgerButton"
                                                       Size="Small"
                                                       Variant="Ghost"
                                                       Visibility="Collapsed"
                                                       Click="HamburgerButton_Click"
                                                       Margin="0,0,8,0"
                                                       Grid.Column="0"
                                                       VerticalAlignment="Center">
                                        <daisy:DaisyButton.Resources>
                                            <SolidColorBrush x:Key="DaisyButtonGhostForeground" Color="#F8FAFC" />
                                            <SolidColorBrush x:Key="DaisyButtonGhostForegroundPointerOver" Color="#FFFFFF" />
                                        </daisy:DaisyButton.Resources>
                                        <PathIcon Width="18"
                                                  Height="18"
                                                  Data="{StaticResource DaisyIconHamburger}" />
                                    </daisy:DaisyButton>

                                    <Image Width="48"
                                           Height="48"
                                           Margin="0,0,12,0"
                                           VerticalAlignment="Center"
                                           Grid.Column="1"
                                           Stretch="Uniform"
                                           Source="ms-appx:///Assets/flowery-keycap-square-200.png" />

                                    <StackPanel Grid.Column="2" Spacing="4">
                                        <TextBlock x:Name="HeaderTitle" FontSize="28" FontWeight="Bold">
                                            <TextBlock.Foreground>
                                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                    <GradientStop Offset="0" Color="#F8FAFC" />
                                                    <GradientStop Offset="1" Color="#94A3B8" />
                                                </LinearGradientBrush>
                                            </TextBlock.Foreground>
                                            <Run x:Name="HeaderTitleRun" Text="Flowery.Uno" Foreground="#F8FAFC" />
                                            <Run x:Name="HeaderSubtitleRun"
                                                 Text=" Gallery"
                                                 FontWeight="Normal"
                                                 Foreground="#94A3B8" />
                                        </TextBlock>
                                        <Grid x:Name="SubtitleRow" ColumnDefinitions="*,Auto">
                                            <StackPanel Orientation="Horizontal" Spacing="6">
                                                <TextBlock Text="Created by"
                                                           FontSize="13"
                                                           Foreground="#64748B"
                                                           VerticalAlignment="Center" />
                                                <Button Padding="0"
                                                        Background="Transparent"
                                                        BorderThickness="0"
                                                        Click="OpenGitHub_Click">
                                                    <TextBlock Text="tobitege"
                                                               FontSize="13"
                                                               FontWeight="SemiBold"
                                                               Foreground="#38BDF8" />
                                                </Button>
                                                <TextBlock x:Name="MitLicenseText"
                                                           Text=" - 2025 - MIT licensed"
                                                           FontSize="12"
                                                           Foreground="#64748B"
                                                           VerticalAlignment="Center" />
                                            </StackPanel>
                                            <daisy:DaisyButton x:Name="ScreenshotButton"
                                                               Grid.Column="1"
                                                               Content="Capture"
                                                               Variant="Ghost"
                                                               Size="Small"
                                                               IsEnabled="False"
                                                               Visibility="Collapsed"
                                                               Click="CaptureAllScreenshots_Click" />
                                        </Grid>
                                    </StackPanel>
                                </Grid>

                                <Border x:Name="HeaderAccentBar" Height="3">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                            <GradientStop Offset="0" Color="#0EA5E9" />
                                            <GradientStop Offset="0.3" Color="#2DD4BF" />
                                            <GradientStop Offset="0.6" Color="#38BDF8" />
                                            <GradientStop Offset="1" Color="#14B8A6" />
                                        </LinearGradientBrush>
                                    </Border.Background>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <Border x:Name="CategoryTitleBar"
                        Grid.Row="1"
                        Background="{ThemeResource DaisyBase200Brush}"
                        BorderBrush="{ThemeResource DaisyBase300Brush}"
                        BorderThickness="0,0,0,1"
                        Padding="24,4,24,20"
                        Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <Viewbox x:Name="CategoryChevrons"
                                     Width="24"
                                     Height="14"
                                     VerticalAlignment="Center">
                                <StackPanel Orientation="Horizontal" Spacing="-6">
                                    <Path Data="M0,0 L6,0 L12,7 L6,14 L0,14 L6,7 Z"
                                          Fill="{ThemeResource DaisyPrimaryBrush}"
                                          Opacity="0.4" />
                                    <Path Data="M0,0 L6,0 L12,7 L6,14 L0,14 L6,7 Z"
                                          Fill="{ThemeResource DaisyPrimaryBrush}"
                                          Opacity="0.7" />
                                    <Path Data="M0,0 L6,0 L12,7 L6,14 L0,14 L6,7 Z"
                                          Fill="{ThemeResource DaisyPrimaryBrush}"
                                          Opacity="1" />
                                </StackPanel>
                            </Viewbox>

                            <TextBlock x:Name="CategoryTitle"
                                       FontSize="22"
                                       FontWeight="SemiBold"
                                       VerticalAlignment="Center"
                                       Foreground="{ThemeResource DaisyBaseContentBrush}" />
                        </StackPanel>
                    </Border>

                    <!-- Background required for hit-testing (mouse wheel input) -->
                    <Grid x:Name="MainContentHost"
                          Grid.Row="2"
                          Background="Transparent"
                          daisy:DaisyBaseContentControl.NeumorphicScopeEnabled="True" />
                </Grid>
            </SplitView.Content>
        </SplitView>

        <daisy:DaisyModal x:Name="DemoModal" IsOpen="False">
            <StackPanel Spacing="12" MaxWidth="400">
                <TextBlock x:Name="ModalTitle" Text="Hello!" FontSize="20" FontWeight="Bold" />
                <TextBlock
                    Text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
                    TextWrapping="Wrap"
                    Opacity="0.8" />
                <TextBlock
                    Text="Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
                    TextWrapping="Wrap"
                    Opacity="0.7"
                    FontSize="13" />
                <daisy:DaisyButton Content="Close"
                                   Variant="Primary"
                                   Click="CloseModalBtn_Click"
                                   HorizontalAlignment="Right"
                                   Margin="0,8,0,0" />
            </StackPanel>
        </daisy:DaisyModal>
    </Grid>
</UserControl>
