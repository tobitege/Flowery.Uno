<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Flowery.Controls">

    <DataTemplate x:Key="DaisyThemeDropdownItemTemplate">
        <StackPanel Orientation="Horizontal" Margin="4,0,0,0">
            <StackPanel Orientation="Horizontal" Spacing="1" VerticalAlignment="Center">
                <Ellipse Width="{Binding SwatchSize}"
                         Height="{Binding SwatchSize}"
                         Fill="{Binding Base100}"
                         Stroke="{Binding Neutral}"
                         StrokeThickness="1" />
                <Ellipse Width="{Binding SwatchSize}"
                         Height="{Binding SwatchSize}"
                         Fill="{Binding Primary}" />
                <Ellipse Width="{Binding SwatchSize}"
                         Height="{Binding SwatchSize}"
                         Fill="{Binding Secondary}" />
                <Ellipse Width="{Binding SwatchSize}"
                         Height="{Binding SwatchSize}"
                         Fill="{Binding Accent}" />
                <Ellipse Width="{Binding SwatchSize}"
                         Height="{Binding SwatchSize}"
                         Fill="{Binding Neutral}" />
            </StackPanel>
            <TextBlock Text="{Binding DisplayName}"
                       VerticalAlignment="Center"
                       Margin="{Binding TextMargin}"
                       TextTrimming="CharacterEllipsis"
                       TextWrapping="NoWrap" />
        </StackPanel>
    </DataTemplate>

    <Style TargetType="controls:DaisyTabColorGridMenuItem">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="controls:DaisyTabColorGridMenuItem">
                    <Border Padding="8,2,8,6" Background="Transparent">
                        <Grid x:Name="PART_SwatchGrid" />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ===================== DaisyThemeController templates ===================== -->
    <ControlTemplate x:Key="DaisyThemeControllerToggleTemplate" TargetType="controls:DaisyThemeController">
        <Grid Background="Transparent">
            <Border x:Name="ToggleMode"
                    Width="48"
                    Height="24"
                    CornerRadius="12"
                    Background="{ThemeResource DaisyBase300Brush}">
                <Grid Width="48" Height="24">
                    <Ellipse x:Name="ToggleKnob"
                             Width="20"
                             Height="20"
                             Fill="{ThemeResource DaisyPrimaryBrush}"
                             HorizontalAlignment="Left"
                             Margin="2">
                        <Ellipse.RenderTransform>
                            <TranslateTransform x:Name="ToggleKnobTransform" X="0" />
                        </Ellipse.RenderTransform>
                    </Ellipse>
                </Grid>
            </Border>

            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CheckStates">
                    <VisualState x:Name="Unchecked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="ToggleKnobTransform"
                                             Storyboard.TargetProperty="X"
                                             To="0"
                                             Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </VisualState>
                    <VisualState x:Name="Checked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="ToggleKnobTransform"
                                             Storyboard.TargetProperty="X"
                                             To="24"
                                             Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="DaisyThemeControllerCheckboxTemplate" TargetType="controls:DaisyThemeController">
        <Grid Background="Transparent">
            <Border Width="48"
                    Height="48"
                    CornerRadius="8"
                    Background="{ThemeResource DaisyBase300Brush}">
                <Path x:Name="CheckMark"
                      Width="24"
                      Height="24"
                      Fill="{ThemeResource DaisyBaseContentBrush}"
                      Opacity="0"
                      Data="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"
                      Stretch="Uniform"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Center" />
            </Border>

            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CheckStates">
                    <VisualState x:Name="Unchecked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="CheckMark"
                                             Storyboard.TargetProperty="Opacity"
                                             To="0"
                                             Duration="0:0:0.2" />
                        </Storyboard>
                    </VisualState>
                    <VisualState x:Name="Checked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="CheckMark"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0:0:0.2" />
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="DaisyThemeControllerSwapTemplate" TargetType="controls:DaisyThemeController">
        <Grid Background="Transparent" Width="32" Height="32">
            <!-- Sun icon - use Warning (yellow/orange) for sun -->
            <Path x:Name="SunIcon"
                  Data="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"
                  Fill="{ThemeResource DaisyWarningBrush}"
                  Stretch="Uniform"
                  Width="24" Height="24"
                  Opacity="1"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  RenderTransformOrigin="0.5,0.5">
                <Path.RenderTransform>
                    <RotateTransform x:Name="SunRotate" Angle="0" />
                </Path.RenderTransform>
            </Path>
            <!-- Moon icon (crescent) - use Info (blue) for moon -->
            <Path x:Name="MoonIcon"
                  Data="M21,12.79A9,9,0,1,1,11.21,3,7,7,0,0,0,21,12.79Z"
                  Fill="{ThemeResource DaisyInfoBrush}"
                  Stretch="Uniform"
                  Width="24" Height="24"
                  Opacity="0"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  RenderTransformOrigin="0.5,0.5">
                <Path.RenderTransform>
                    <RotateTransform x:Name="MoonRotate" Angle="90" />
                </Path.RenderTransform>
            </Path>

            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CheckStates">
                    <VisualState x:Name="Unchecked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="SunIcon"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0:0:0.3" />
                            <DoubleAnimation Storyboard.TargetName="SunRotate"
                                             Storyboard.TargetProperty="Angle"
                                             To="0"
                                             Duration="0:0:0.5">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="MoonIcon"
                                             Storyboard.TargetProperty="Opacity"
                                             To="0"
                                             Duration="0:0:0.3" />
                            <DoubleAnimation Storyboard.TargetName="MoonRotate"
                                             Storyboard.TargetProperty="Angle"
                                             To="90"
                                             Duration="0:0:0.5">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </VisualState>
                    <VisualState x:Name="Checked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="SunIcon"
                                             Storyboard.TargetProperty="Opacity"
                                             To="0"
                                             Duration="0:0:0.3" />
                            <DoubleAnimation Storyboard.TargetName="SunRotate"
                                             Storyboard.TargetProperty="Angle"
                                             To="-90"
                                             Duration="0:0:0.5">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="MoonIcon"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0:0:0.3" />
                            <DoubleAnimation Storyboard.TargetName="MoonRotate"
                                             Storyboard.TargetProperty="Angle"
                                             To="0"
                                             Duration="0:0:0.5">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="DaisyThemeControllerToggleWithTextTemplate" TargetType="controls:DaisyThemeController">
        <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
            <TextBlock Text="{TemplateBinding UncheckedLabel}"
                       Foreground="{ThemeResource DaisyBaseContentBrush}"
                       VerticalAlignment="Center"
                       FontSize="14" />
            <Border Width="48"
                    Height="24"
                    CornerRadius="12"
                    Background="{ThemeResource DaisyBase300Brush}">
                <Grid Width="48" Height="24">
                    <Ellipse x:Name="TextToggleKnob"
                             Width="20"
                             Height="20"
                             Fill="{ThemeResource DaisyPrimaryBrush}"
                             HorizontalAlignment="Left"
                             Margin="2">
                        <Ellipse.RenderTransform>
                            <TranslateTransform x:Name="TextToggleKnobTransform" X="0" />
                        </Ellipse.RenderTransform>
                    </Ellipse>
                </Grid>
            </Border>
            <TextBlock Text="{TemplateBinding CheckedLabel}"
                       Foreground="{ThemeResource DaisyBaseContentBrush}"
                       VerticalAlignment="Center"
                       FontSize="14" />

            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CheckStates">
                    <VisualState x:Name="Unchecked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="TextToggleKnobTransform"
                                             Storyboard.TargetProperty="X"
                                             To="0"
                                             Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </VisualState>
                    <VisualState x:Name="Checked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="TextToggleKnobTransform"
                                             Storyboard.TargetProperty="X"
                                             To="24"
                                             Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
        </StackPanel>
    </ControlTemplate>

    <ControlTemplate x:Key="DaisyThemeControllerToggleWithIconsTemplate" TargetType="controls:DaisyThemeController">
        <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
            <!-- Sun icon - use Warning (yellow/orange) for sun -->
            <Path Data="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"
                  Fill="{ThemeResource DaisyWarningBrush}"
                  Stretch="Uniform"
                  Width="20"
                  Height="20"
                  VerticalAlignment="Center" />
            <Border Width="48"
                    Height="24"
                    CornerRadius="12"
                    Background="{ThemeResource DaisyBase300Brush}">
                <Grid Width="48" Height="24">
                    <Ellipse x:Name="IconToggleKnob"
                             Width="20"
                             Height="20"
                             Fill="{ThemeResource DaisyPrimaryBrush}"
                             HorizontalAlignment="Left"
                             Margin="2">
                        <Ellipse.RenderTransform>
                            <TranslateTransform x:Name="IconToggleKnobTransform" X="0" />
                        </Ellipse.RenderTransform>
                    </Ellipse>
                </Grid>
            </Border>
            <!-- Moon icon (crescent) - use Info (blue) for moon -->
            <Path Data="M21,12.79A9,9,0,1,1,11.21,3,7,7,0,0,0,21,12.79Z"
                  Fill="{ThemeResource DaisyInfoBrush}"
                  Stretch="Uniform"
                  Width="20"
                  Height="20"
                  VerticalAlignment="Center" />

            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CheckStates">
                    <VisualState x:Name="Unchecked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="IconToggleKnobTransform"
                                             Storyboard.TargetProperty="X"
                                             To="0"
                                             Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </VisualState>
                    <VisualState x:Name="Checked">
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="IconToggleKnobTransform"
                                             Storyboard.TargetProperty="X"
                                             To="24"
                                             Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
        </StackPanel>
    </ControlTemplate>

    <!-- ===================== DaisyThemeRadio templates ===================== -->
    <ControlTemplate x:Key="DaisyThemeRadioRadioTemplate" TargetType="controls:DaisyThemeRadio">
        <Grid ColumnDefinitions="Auto,*">
            <Border x:Name="PART_Border"
                    Grid.Column="0"
                    Width="20"
                    Height="20"
                    CornerRadius="10"
                    BorderThickness="1"
                    BorderBrush="{ThemeResource DaisyBaseContentBrush}"
                    Background="{ThemeResource DaisyBase100Brush}">
                <Ellipse x:Name="CheckMark"
                         Width="12"
                         Height="12"
                         Fill="{ThemeResource DaisyBase100Brush}"
                         Opacity="0"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center" />
            </Border>
            <ContentPresenter Grid.Column="1"
                              Content="{TemplateBinding Content}"
                              ContentTemplate="{TemplateBinding ContentTemplate}"
                              Margin="{TemplateBinding Padding}"
                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />

            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CheckStates">
                    <VisualState x:Name="Unchecked" />
                    <VisualState x:Name="Checked">
                        <VisualState.Setters>
                            <Setter Target="CheckMark.Opacity" Value="1" />
                            <Setter Target="PART_Border.Background" Value="{ThemeResource DaisyBaseContentBrush}" />
                            <Setter Target="PART_Border.BorderBrush" Value="{ThemeResource DaisyBaseContentBrush}" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
                <VisualStateGroup x:Name="PointerStates">
                    <VisualState x:Name="Normal" />
                    <VisualState x:Name="PointerOver">
                        <VisualState.Setters>
                            <Setter Target="PART_Border.BorderBrush" Value="{ThemeResource DaisyPrimaryBrush}" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="DaisyThemeRadioButtonTemplate" TargetType="controls:DaisyThemeRadio">
        <Border x:Name="PART_ButtonBorder"
                Background="{TemplateBinding Background}"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="{TemplateBinding BorderThickness}"
                CornerRadius="{TemplateBinding CornerRadius}"
                Padding="{TemplateBinding Padding}">
            <ContentPresenter Content="{TemplateBinding Content}"
                              ContentTemplate="{TemplateBinding ContentTemplate}"
                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
        </Border>
    </ControlTemplate>

    <Style TargetType="controls:DaisyThemeRadio">
        <Setter Property="Padding" Value="8,0,0,0" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Template" Value="{StaticResource DaisyThemeRadioRadioTemplate}" />
    </Style>

    <!-- ===================== DaisyThemeController style (template selected in code) ===================== -->
    <Style TargetType="controls:DaisyThemeController">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Template" Value="{StaticResource DaisyThemeControllerToggleTemplate}" />
    </Style>
</ResourceDictionary>
